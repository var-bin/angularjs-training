<!-- /partials/review-form.html -->
<form name="reviewForm" class="form-horizontal" ng-submit="reviewForm.$valid && reviewFormCtrl.addReview(reviewForm)" novalidate>
  <!--live preview section-->
  <section class="row well live-preview" ng-show="reviewFormCtrl.book.isbn">
    <aside class="col-sm-3">
      <a href="http://www.amazon.com/gp/product/{{reviewFormCtrl.book.isbn}}">
        <img ng-src="http://images.amazon.com/images/P/{{reviewFormCtrl.book.isbn}}.01.ZTZZZZZZ.jpg" alt="Cover of {{reviewFormCtrl.book.title}}" class="full">
      </a>
      <p ng-class="{goodRating: reviewFormCtrl.book.rating >= 3}" class="rating">
        {{reviewFormCtrl.setRating(reviewFormCtrl.book.rating)}} / 5
      </p>
    </aside>
    <div class="col-sm-9">
      <h3>
        <a href="http://www.amazon.com/gp/product/{{reviewFormCtrl.book.isbn}}">
          {{reviewFormCtrl.setTitle(reviewFormCtrl.book.title)}}
        </a>
      </h3>
      <cite class="text-muted">
        Written by {{reviewFormCtrl.setAuthor(reviewFormCtrl.book.author)}}
      </cite>
      <p>
        {{reviewFormCtrl.setReview(reviewFormCtrl.book.review)}}
      </p>
      <ul class="list-unstyled">
        <li ng-repeat="(genre, state) in reviewFormCtrl.book.genres">
          <span class="label label-primary" ng-show="state">
            {{genre}}
          </span>
        </li>
      </ul>
    </div>
  </section>
  <div class="input-container">
    <!--Book title-->
    <fieldset class="form-group">
      <label for="title" class="col-sm-2 control-label">Title:</label>
      <span class="col-sm-10">
        <input type="text" class="form-control" id="title" ng-model="reviewFormCtrl.book.title" name="bookTitle"
        placeholder="Book Title" required>
      </span>
    </fieldset>
    <!--Book ISBN-->
    <fieldset class="form-group">
      <label for="isbn" class="control-label col-sm-2">
        ISBN:
      </label>
      <span class="col-sm-10">
        <input type="text" id="isbn" class="form-control" ng-model="reviewFormCtrl.book.isbn"
        maxLength="10" placeholder="ISBN-10" name="bookIsbn" required>
      </span>
    </fieldset>
    <!--Book author-->
    <fieldset class="form-group">
      <label class="control-label col-sm-2" for="author">
        Author
      </label>
      <span class="col-sm-10">
        <input type="text" id="author" class="form-control" ng-model="reviewFormCtrl.book.author"
        placeholder="Name of the Author" name="bookAuthor" required>
      </span>
    </fieldset>
    <!--Book review-->
    <fieldset class="form-group">
      <label class="control-label col-sm-2" for="review">
        Review
      </label>
      <span class="col-sm-10">
        <textarea id="review" class="form-control" cols="30" rows="3" ng-model="reviewFormCtrl.book.review"
        placeholder="Book Review" name="bookReview" required></textarea>
      </span>
    </fieldset>
    <!--Book rating-->
    <fieldset class="form-group">
      <label for="rating" class="control-label col-sm-2">
        Rating:
      </label>
      <!--<span class="glyphicon glyphicon-star-empty" aria-hidden="true"></span>-->
      <span class="col-sm-10">
        <select class="form-control" id="rating" value="5" ng-model="reviewFormCtrl.book.rating" name="bookRating" ng-options="stars for stars in [5, 4, 3, 2, 1]" required>
          <option value="">Rate the Book</option>
        </select>
      </span>
    </fieldset>
    <!--Book genre-->
    <fieldset class="form-group">
      <label class="control-label col-sm-2 genre-lbl">
        Genre:
      </label>
      <div class="genre col-sm-10">
        <label ng-repeat="genre in genres" for="{{genre}}" class="genre-label form-control">
          <input type="checkbox" name="genre" id="{{genre}}" ng-model="reviewFormCtrl.book.genres[genre]" />
          {{genre}}
        </label>
      </div>
    </fieldset>
    <!--Save review button-->
    <fieldset class="form-group">
      <span class="col-sm-12 button-from-hell">
        <button type="submit" name="saveReviewButton" class="btn btn-primary">
          Save Review
        </button>
      </span>
    </fieldset>
  </div>
</form>

<hr />

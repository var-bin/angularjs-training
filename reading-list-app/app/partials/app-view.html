<h1>
  Angular Reading List of Awesome
</h1>

<div class="row" ng-controller="ReadingListController as readingListCtrl">
  <button class="btn btn-success" ng-click="readingListCtrl.showForm = !readingListCtrl.showForm">
    {{readingListCtrl.showForm ? "Cancel" : "Create a Review"}}
  </button>

  <hr />

  <form name="reviewForm" class="form-horizontal" ng-submit="reviewFormCtrl.addReview(reviewForm, reviewFormCtrl.book)" ng-controller="ReviewFormController as reviewFormCtrl">
    <!--live preview section-->
    <section class="row well live-preview" ng-show="reviewFormCtrl.book.isbn">
      <aside class="col-sm-3">
        <a href="http://www.amazon.com/gp/product/{{reviewFormCtrl.book.isbn}}">
          <img ng-src="http://images.amazon.com/images/P/{{reviewFormCtrl.book.isbn}}.01.ZTZZZZZZ.jpg" alt="Cover of {{reviewFormCtrl.book.title}}" class="full">
        </a>
        <p>{{reviewFormCtrl.book.rating || '0'}}/5</p>
      </aside>
      <div class="col-sm-10">
        <h3>
          <a href="http://www.amazon.com/gp/product/{{reviewFormCtrl.book.isbn}}">
            {{reviewFormCtrl.book.title || "Title of Book"}}
          </a>
        </h3>
        <cite class="text-muted">
          Written by {{reviewFormCtrl.book.author || "Author's Name"}}
        </cite>
        <p>
          {{reviewFormCtrl.book.review || "No review yet."}}
        </p>
        <ul class="list-unstyled">
          <li ng-repeat="(genre, state) in reviewFormCtrl.book.genres">
            <span class="label label-primary" ng-show="state">
              {{genre}}
            </span>
          </li>
        </ul>
      </div>
    </section>
    <div class="input-container">
      <!--Book title-->
      <fieldset class="form-group">
        <label for="title" class="col-sm-2 control-label">Title:</label>
        <span class="col-sm-10">
          <input type="text" class="form-control" id="title" ng-model="reviewFormCtrl.book.title"
          placeholder="Book Title">
        </span>
      </fieldset>
      <!--Book ISBN-->
      <fieldset class="form-group">
        <label for="isbn" class="control-label col-sm-2">
          ISBN:
        </label>
        <span class="col-sm-10">
          <input type="text" id="isbn" class="form-control" ng-model="reviewFormCtrl.book.isbn"
          maxLength="10" placeholder="ISBN-10">
        </span>
      </fieldset>
      <!--Book author-->
      <fieldset class="form-group">
        <label class="control-label col-sm-2" for="author">
          Author
        </label>
        <span class="col-sm-10">
          <input type="text" id="author" class="form-control" ng-model="reviewFormCtrl.book.author"
          placeholder="Name of the Author">
        </span>
      </fieldset>
      <!--Book review-->
      <fieldset class="form-group">
        <label class="control-label col-sm-2" for="review">
          Review
        </label>
        <span class="col-sm-10">
          <textarea id="review" class="form-control" cols="30" rows="3" ng-model="reviewFormCtrl.book.review"
          placeholder="Book Review"></textarea>
        </span>
      </fieldset>
      <!--Book rating-->
      <fieldset class="form-group">
        <label for="rating" class="control-label col-sm-2">
          Rating:
        </label>
        <!--<span class="glyphicon glyphicon-star-empty" aria-hidden="true"></span>-->
        <span class="col-sm-10">
          <select class="form-control" id="rating" value="5" ng-model="reviewFormCtrl.book.rating">
            <option>5</option>
            <option>4</option>
            <option>3</option>
            <option>2</option>
            <option>1</option>
          </select>
        </span>
      </fieldset>
      <!--Book genre-->
      <fieldset class="form-group">
        <label class="control-label col-sm-2 genre-lbl">
          Genre:
        </label>
        <div class="genre col-sm-10">
          <label ng-repeat="genre in reviewFormCtrl.genres" for="{{genre}}" class="genre-label form-control">
            <input type="checkbox" name="genre" id="{{genre}}" ng-model="reviewFormCtrl.genres[genre]" />
            {{genre}}
          </label>
        </div>
      </fieldset>
      <!--Save review button-->
      <fieldset class="form-group">
        <span class="col-sm-12 button-from-hell">
          <button class="btn btn-primary">
            Save Review
          </button>
        </span>
      </fieldset>
    </div>
  </form>
  <hr />
  <ul class="list-unstyled col-sm-12">
    <li class="book row" ng-repeat="book in readingListCtrl.books">
      <aside class="col-sm-3">
        <a href="http://www.amazon.com/gp/product/{{book.isbn}}">
          <img ng-src="http://images.amazon.com/images/P/{{book.isbn}}.01.ZTZZZZZZ.jpg" alt="Cover of {{book.title}}" class="full">
        </a>
        <p ng-class="{goodRating: book.rating >= 3}" class="rating">
          {{book.rating}}/5
        </p>
      </aside>
      <div class="col-sm-9">
        <h3>
          <a href="http://www.amazon.com/gp/product/{{book.isbn}}"
            >
            {{book.title}}
          </a>
        </h3>
        <cite class="text-muted">
          Written by {{book.author}}
        </cite>
        <p>
          {{book.review}}
        </p>
        <ul class="list-unstyled">
          <li ng-repeat="(genre, state) in book.genres" ng-show="state">
            <span class="label label-primary">
              {{genre}}
            </span>
          </li>
        </ul>
      </div>
    </li>
  </ul>
</div>
